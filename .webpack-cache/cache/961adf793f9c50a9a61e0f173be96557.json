{"remainingRequest":"/wiki/node_modules/babel-loader/lib/index.js??ref--0-1!/wiki/client/components/editor/common/katex.js","dependencies":[{"path":"/wiki/client/components/editor/common/katex.js","mtime":1716084843876},{"path":"/wiki/.babelrc","mtime":1716084843827},{"path":"/wiki/node_modules/cache-loader/dist/cjs.js","mtime":1716088090639},{"path":"/wiki/node_modules/babel-loader/lib/index.js","mtime":1716088089693}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gVGVzdCBpZiBwb3RlbnRpYWwgb3BlbmluZyBvciBjbG9zaW5nIGRlbGltaWV0ZXIKLy8gQXNzdW1lcyB0aGF0IHRoZXJlIGlzIGEgIiQiIGF0IHN0YXRlLnNyY1twb3NdCmZ1bmN0aW9uIGlzVmFsaWREZWxpbShzdGF0ZSwgcG9zKSB7CiAgbGV0IHByZXZDaGFyOwogIGxldCBuZXh0Q2hhcjsKICBsZXQgbWF4ID0gc3RhdGUucG9zTWF4OwogIGxldCBjYW5PcGVuID0gdHJ1ZTsKICBsZXQgY2FuQ2xvc2UgPSB0cnVlOwogIHByZXZDaGFyID0gcG9zID4gMCA/IHN0YXRlLnNyYy5jaGFyQ29kZUF0KHBvcyAtIDEpIDogLTE7CiAgbmV4dENoYXIgPSBwb3MgKyAxIDw9IG1heCA/IHN0YXRlLnNyYy5jaGFyQ29kZUF0KHBvcyArIDEpIDogLTE7IC8vIENoZWNrIG5vbi13aGl0ZXNwYWNlIGNvbmRpdGlvbnMgZm9yIG9wZW5pbmcgYW5kIGNsb3NpbmcsIGFuZAogIC8vIGNoZWNrIHRoYXQgY2xvc2luZyBkZWxpbWV0ZXIgaXNuJ3QgZm9sbG93ZWQgYnkgYSBudW1iZXIKCiAgaWYgKHByZXZDaGFyID09PSAweDIwCiAgLyogIiAiICovCiAgfHwgcHJldkNoYXIgPT09IDB4MDkKICAvKiBcdCAqLwogIHx8IG5leHRDaGFyID49IDB4MzAKICAvKiAiMCIgKi8KICAmJiBuZXh0Q2hhciA8PSAweDM5CiAgLyogIjkiICovCiAgKSB7CiAgICBjYW5DbG9zZSA9IGZhbHNlOwogIH0KCiAgaWYgKG5leHRDaGFyID09PSAweDIwCiAgLyogIiAiICovCiAgfHwgbmV4dENoYXIgPT09IDB4MDkKICAvKiBcdCAqLwogICkgewogICAgICBjYW5PcGVuID0gZmFsc2U7CiAgICB9CgogIHJldHVybiB7CiAgICBjYW5PcGVuOiBjYW5PcGVuLAogICAgY2FuQ2xvc2U6IGNhbkNsb3NlCiAgfTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIGthdGV4SW5saW5lKHN0YXRlLCBzaWxlbnQpIHsKICAgIGxldCBzdGFydCwgbWF0Y2gsIHRva2VuLCByZXMsIHBvczsKCiAgICBpZiAoc3RhdGUuc3JjW3N0YXRlLnBvc10gIT09ICckJykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcmVzID0gaXNWYWxpZERlbGltKHN0YXRlLCBzdGF0ZS5wb3MpOwoKICAgIGlmICghcmVzLmNhbk9wZW4pIHsKICAgICAgaWYgKCFzaWxlbnQpIHsKICAgICAgICBzdGF0ZS5wZW5kaW5nICs9ICckJzsKICAgICAgfQoKICAgICAgc3RhdGUucG9zICs9IDE7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvLyBGaXJzdCBjaGVjayBmb3IgYW5kIGJ5cGFzcyBhbGwgcHJvcGVybHkgZXNjYXBlZCBkZWxpbWlldGVycwogICAgLy8gVGhpcyBsb29wIHdpbGwgYXNzdW1lIHRoYXQgdGhlIGZpcnN0IGxlYWRpbmcgYmFja3RpY2sgY2FuIG5vdAogICAgLy8gYmUgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiBzdGF0ZS5zcmMsIHdoaWNoIGlzIGtub3duIHNpbmNlCiAgICAvLyB3ZSBoYXZlIGZvdW5kIGFuIG9wZW5pbmcgZGVsaW1pZXRlciBhbHJlYWR5LgoKCiAgICBzdGFydCA9IHN0YXRlLnBvcyArIDE7CiAgICBtYXRjaCA9IHN0YXJ0OwoKICAgIHdoaWxlICgobWF0Y2ggPSBzdGF0ZS5zcmMuaW5kZXhPZignJCcsIG1hdGNoKSkgIT09IC0xKSB7CiAgICAgIC8vIEZvdW5kIHBvdGVudGlhbCAkLCBsb29rIGZvciBlc2NhcGVzLCBwb3Mgd2lsbCBwb2ludCB0bwogICAgICAvLyBmaXJzdCBub24gZXNjYXBlIHdoZW4gY29tcGxldGUKICAgICAgcG9zID0gbWF0Y2ggLSAxOwoKICAgICAgd2hpbGUgKHN0YXRlLnNyY1twb3NdID09PSAnXFwnKSB7CiAgICAgICAgcG9zIC09IDE7CiAgICAgIH0gLy8gRXZlbiBudW1iZXIgb2YgZXNjYXBlcywgcG90ZW50aWFsIGNsb3NpbmcgZGVsaW1pdGVyIGZvdW5kCgoKICAgICAgaWYgKChtYXRjaCAtIHBvcykgJSAyID09PSAxKSB7CiAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIG1hdGNoICs9IDE7CiAgICB9IC8vIE5vIGNsb3NpbmcgZGVsaW10ZXIgZm91bmQuICBDb25zdW1lICQgYW5kIGNvbnRpbnVlLgoKCiAgICBpZiAobWF0Y2ggPT09IC0xKSB7CiAgICAgIGlmICghc2lsZW50KSB7CiAgICAgICAgc3RhdGUucGVuZGluZyArPSAnJCc7CiAgICAgIH0KCiAgICAgIHN0YXRlLnBvcyA9IHN0YXJ0OwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gLy8gQ2hlY2sgaWYgd2UgaGF2ZSBlbXB0eSBjb250ZW50LCBpZTogJCQuICBEbyBub3QgcGFyc2UuCgoKICAgIGlmIChtYXRjaCAtIHN0YXJ0ID09PSAwKSB7CiAgICAgIGlmICghc2lsZW50KSB7CiAgICAgICAgc3RhdGUucGVuZGluZyArPSAnJCQnOwogICAgICB9CgogICAgICBzdGF0ZS5wb3MgPSBzdGFydCArIDE7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSAvLyBDaGVjayBmb3IgdmFsaWQgY2xvc2luZyBkZWxpbWl0ZXIKCgogICAgcmVzID0gaXNWYWxpZERlbGltKHN0YXRlLCBtYXRjaCk7CgogICAgaWYgKCFyZXMuY2FuQ2xvc2UpIHsKICAgICAgaWYgKCFzaWxlbnQpIHsKICAgICAgICBzdGF0ZS5wZW5kaW5nICs9ICckJzsKICAgICAgfQoKICAgICAgc3RhdGUucG9zID0gc3RhcnQ7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIGlmICghc2lsZW50KSB7CiAgICAgIHRva2VuID0gc3RhdGUucHVzaCgna2F0ZXhfaW5saW5lJywgJ21hdGgnLCAwKTsKICAgICAgdG9rZW4ubWFya3VwID0gJyQnOwogICAgICB0b2tlbi5jb250ZW50ID0gc3RhdGUuc3JjIC8vIEV4dHJhY3QgdGhlIG1hdGggcGFydCB3aXRob3V0IHRoZSAkCiAgICAgIC5zbGljZShzdGFydCwgbWF0Y2gpIC8vIEVzY2FwZSB0aGUgY3VybHkgYnJhY2VzIHNpbmNlIHRoZXkgd2lsbCBiZSBpbnRlcnByZXRlZCBhcwogICAgICAvLyBhdHRyaWJ1dGVzIGJ5IG1hcmtkb3duLWl0LWF0dHJzICh0aGUgImN1cmx5X2F0dHJpYnV0ZXMiCiAgICAgIC8vIGNvcmUgcnVsZSkKICAgICAgLnJlcGxhY2VBbGwoInsiLCAie3siKS5yZXBsYWNlQWxsKCJ9IiwgIn19Iik7CiAgICB9CgogICAgc3RhdGUucG9zID0gbWF0Y2ggKyAxOwogICAgcmV0dXJuIHRydWU7CiAgfSwKCiAga2F0ZXhCbG9jayhzdGF0ZSwgc3RhcnQsIGVuZCwgc2lsZW50KSB7CiAgICBsZXQgZmlyc3RMaW5lOwogICAgbGV0IGxhc3RMaW5lOwogICAgbGV0IG5leHQ7CiAgICBsZXQgbGFzdFBvczsKICAgIGxldCBmb3VuZCA9IGZhbHNlOwogICAgbGV0IHRva2VuOwogICAgbGV0IHBvcyA9IHN0YXRlLmJNYXJrc1tzdGFydF0gKyBzdGF0ZS50U2hpZnRbc3RhcnRdOwogICAgbGV0IG1heCA9IHN0YXRlLmVNYXJrc1tzdGFydF07CgogICAgaWYgKHBvcyArIDIgPiBtYXgpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIGlmIChzdGF0ZS5zcmMuc2xpY2UocG9zLCBwb3MgKyAyKSAhPT0gJyQkJykgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgcG9zICs9IDI7CiAgICBmaXJzdExpbmUgPSBzdGF0ZS5zcmMuc2xpY2UocG9zLCBtYXgpOwoKICAgIGlmIChzaWxlbnQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgaWYgKGZpcnN0TGluZS50cmltKCkuc2xpY2UoLTIpID09PSAnJCQnKSB7CiAgICAgIC8vIFNpbmdsZSBsaW5lIGV4cHJlc3Npb24KICAgICAgZmlyc3RMaW5lID0gZmlyc3RMaW5lLnRyaW0oKS5zbGljZSgwLCAtMik7CiAgICAgIGZvdW5kID0gdHJ1ZTsKICAgIH0KCiAgICBmb3IgKG5leHQgPSBzdGFydDsgIWZvdW5kOykgewogICAgICBuZXh0Kys7CgogICAgICBpZiAobmV4dCA+PSBlbmQpIHsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgcG9zID0gc3RhdGUuYk1hcmtzW25leHRdICsgc3RhdGUudFNoaWZ0W25leHRdOwogICAgICBtYXggPSBzdGF0ZS5lTWFya3NbbmV4dF07CgogICAgICBpZiAocG9zIDwgbWF4ICYmIHN0YXRlLnRTaGlmdFtuZXh0XSA8IHN0YXRlLmJsa0luZGVudCkgewogICAgICAgIC8vIG5vbi1lbXB0eSBsaW5lIHdpdGggbmVnYXRpdmUgaW5kZW50IHNob3VsZCBzdG9wIHRoZSBsaXN0OgogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBpZiAoc3RhdGUuc3JjLnNsaWNlKHBvcywgbWF4KS50cmltKCkuc2xpY2UoLTIpID09PSAnJCQnKSB7CiAgICAgICAgbGFzdFBvcyA9IHN0YXRlLnNyYy5zbGljZSgwLCBtYXgpLmxhc3RJbmRleE9mKCckJCcpOwogICAgICAgIGxhc3RMaW5lID0gc3RhdGUuc3JjLnNsaWNlKHBvcywgbGFzdFBvcyk7CiAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICB9CiAgICB9CgogICAgc3RhdGUubGluZSA9IG5leHQgKyAxOwogICAgdG9rZW4gPSBzdGF0ZS5wdXNoKCdrYXRleF9ibG9jaycsICdtYXRoJywgMCk7CiAgICB0b2tlbi5ibG9jayA9IHRydWU7CiAgICB0b2tlbi5jb250ZW50ID0gKGZpcnN0TGluZSAmJiBmaXJzdExpbmUudHJpbSgpID8gZmlyc3RMaW5lICsgJ1xuJyA6ICcnKSArIHN0YXRlLmdldExpbmVzKHN0YXJ0ICsgMSwgbmV4dCwgc3RhdGUudFNoaWZ0W3N0YXJ0XSwgdHJ1ZSkgKyAobGFzdExpbmUgJiYgbGFzdExpbmUudHJpbSgpID8gbGFzdExpbmUgOiAnJyk7CiAgICB0b2tlbi5tYXAgPSBbc3RhcnQsIHN0YXRlLmxpbmVdOwogICAgdG9rZW4ubWFya3VwID0gJyQkJzsKICAgIHJldHVybiB0cnVlOwogIH0KCn07"},null]}