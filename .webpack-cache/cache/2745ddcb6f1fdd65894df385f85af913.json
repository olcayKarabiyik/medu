{"remainingRequest":"/wiki/node_modules/babel-loader/lib/index.js??ref--0-1!/wiki/node_modules/vue-loader/lib/index.js??vue-loader-options!/wiki/client/components/history.vue?vue&type=script&lang=js&","dependencies":[{"path":"/wiki/client/components/history.vue","mtime":1716084843886},{"path":"/wiki/.babelrc","mtime":1716084843827},{"path":"/wiki/node_modules/cache-loader/dist/cjs.js","mtime":1716088090639},{"path":"/wiki/node_modules/babel-loader/lib/index.js","mtime":1716088089693},{"path":"/wiki/node_modules/vue-loader/lib/index.js","mtime":1716088146939}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbml0aWFsIGZyb20gImxvZGFzaC9pbml0aWFsIjsKaW1wb3J0IF9oZWFkIGZyb20gImxvZGFzaC9oZWFkIjsKaW1wb3J0IF9nZXQgZnJvbSAibG9kYXNoL2dldCI7CmltcG9ydCBfZmluZCBmcm9tICJsb2Rhc2gvZmluZCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAqIGFzIERpZmYySHRtbCBmcm9tICdkaWZmMmh0bWwnOwppbXBvcnQgeyBjcmVhdGVQYXRjaCB9IGZyb20gJ2RpZmYnOwpleHBvcnQgZGVmYXVsdCB7CiAgaTE4bk9wdGlvbnM6IHsKICAgIG5hbWVzcGFjZXM6ICdoaXN0b3J5JwogIH0sCiAgcHJvcHM6IHsKICAgIHBhZ2VJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBsb2NhbGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZW4nCiAgICB9LAogICAgcGF0aDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdob21lJwogICAgfSwKICAgIHRpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ1VudGl0bGVkIFBhZ2UnCiAgICB9LAogICAgZGVzY3JpcHRpb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGNyZWF0ZWRBdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgdXBkYXRlZEF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB0YWdzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIGF1dGhvck5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnVW5rbm93bicKICAgIH0sCiAgICBhdXRob3JJZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0sCiAgICBpc1B1Ymxpc2hlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGxpdmVDb250ZW50OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBlZmZlY3RpdmVQZXJtaXNzaW9uczogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvdXJjZTogewogICAgICAgIHZlcnNpb25JZDogMCwKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH0sCiAgICAgIHRhcmdldDogewogICAgICAgIHZlcnNpb25JZDogMCwKICAgICAgICBjb250ZW50OiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICcnCiAgICAgIH0sCiAgICAgIHRyYWlsOiBbXSwKICAgICAgZGlmZlNvdXJjZTogMCwKICAgICAgZGlmZlRhcmdldDogMCwKICAgICAgb2Zmc2V0UGFnZTogMCwKICAgICAgdG90YWw6IDAsCiAgICAgIHZpZXdNb2RlOiAnbGluZS1ieS1saW5lJywKICAgICAgY2FjaGU6IFtdLAogICAgICByZXN0b3JlVGFyZ2V0OiB7CiAgICAgICAgdmVyc2lvbklkOiAwLAogICAgICAgIHZlcnNpb25EYXRlOiAnJwogICAgICB9LAogICAgICBicmFuY2hPZmZPcHRzOiB7CiAgICAgICAgdmVyc2lvbklkOiAwLAogICAgICAgIGxvY2FsZTogJ2VuJywKICAgICAgICBwYXRoOiAnbmV3LXBhZ2UnLAogICAgICAgIG1vZGFsOiBmYWxzZQogICAgICB9LAogICAgICBpc1Jlc3RvcmVDb25maXJtRGlhbG9nU2hvd246IGZhbHNlLAogICAgICByZXN0b3JlTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGZ1bGxUcmFpbCgpIHsKICAgICAgY29uc3QgbGl2ZVRyYWlsSXRlbSA9IHsKICAgICAgICB2ZXJzaW9uSWQ6IDAsCiAgICAgICAgYXV0aG9ySWQ6IHRoaXMuYXV0aG9ySWQsCiAgICAgICAgYXV0aG9yTmFtZTogdGhpcy5hdXRob3JOYW1lLAogICAgICAgIGFjdGlvblR5cGU6ICdsaXZlJywKICAgICAgICB2YWx1ZUJlZm9yZTogbnVsbCwKICAgICAgICB2YWx1ZUFmdGVyOiBudWxsLAogICAgICAgIHZlcnNpb25EYXRlOiB0aGlzLnVwZGF0ZWRBdAogICAgICB9OyAvLyAtPiBDaGVjayBmb3IgbW92ZSBiZXR3ZWVuIGxhdGVzdCBhbmQgbGl2ZQoKICAgICAgY29uc3QgcHJldlBhZ2UgPSBfZmluZCh0aGlzLmNhY2hlLCBbJ3ZlcnNpb25JZCcsIF9nZXQodGhpcy50cmFpbCwgJ1swXS52ZXJzaW9uSWQnLCAtMSldKTsKCiAgICAgIGlmIChwcmV2UGFnZSAmJiB0aGlzLnBhdGggIT09IHByZXZQYWdlLnBhdGgpIHsKICAgICAgICBsaXZlVHJhaWxJdGVtLmFjdGlvblR5cGUgPSAnbW92ZSc7CiAgICAgICAgbGl2ZVRyYWlsSXRlbS52YWx1ZUJlZm9yZSA9IHByZXZQYWdlLnBhdGg7CiAgICAgICAgbGl2ZVRyYWlsSXRlbS52YWx1ZUFmdGVyID0gdGhpcy5wYXRoOwogICAgICB9IC8vIC0+IENvbWJpbmUgdHJhaWwgd2l0aCBsaXZlCgoKICAgICAgcmV0dXJuIFtsaXZlVHJhaWxJdGVtLCAuLi50aGlzLnRyYWlsXTsKICAgIH0sCgogICAgZGlmZnMoKSB7CiAgICAgIHJldHVybiBjcmVhdGVQYXRjaChgLyR7dGhpcy5wYXRofWAsIHRoaXMuc291cmNlLmNvbnRlbnQsIHRoaXMudGFyZ2V0LmNvbnRlbnQpOwogICAgfSwKCiAgICBkaWZmSFRNTCgpIHsKICAgICAgcmV0dXJuIERpZmYySHRtbC5odG1sKHRoaXMuZGlmZnMsIHsKICAgICAgICBpbnB1dEZvcm1hdDogJ2RpZmYnLAogICAgICAgIGRyYXdGaWxlTGlzdDogZmFsc2UsCiAgICAgICAgbWF0Y2hpbmc6ICdsaW5lcycsCiAgICAgICAgb3V0cHV0Rm9ybWF0OiB0aGlzLnZpZXdNb2RlCiAgICAgIH0pOwogICAgfQoKICB9LAogIHdhdGNoOiB7CiAgICB0cmFpbChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICYmIG5ld1ZhbHVlLmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLmRpZmZUYXJnZXQgPSAwOwogICAgICAgIHRoaXMuZGlmZlNvdXJjZSA9IF9nZXQoX2hlYWQobmV3VmFsdWUpLCAndmVyc2lvbklkJywgMCk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZGlmZlNvdXJjZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZGlmZlNvdXJjZSAhPT0gdGhpcy5zb3VyY2UudmVyc2lvbklkKSB7CiAgICAgICAgY29uc3QgcGFnZSA9IF9maW5kKHRoaXMuY2FjaGUsIHsKICAgICAgICAgIHZlcnNpb25JZDogbmV3VmFsdWUKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHBhZ2UpIHsKICAgICAgICAgIHRoaXMuc291cmNlID0gcGFnZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zb3VyY2UgPSBhd2FpdCB0aGlzLmxvYWRWZXJzaW9uKG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgZGlmZlRhcmdldChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHRoaXMuZGlmZlRhcmdldCAhPT0gdGhpcy50YXJnZXQudmVyc2lvbklkKSB7CiAgICAgICAgY29uc3QgcGFnZSA9IF9maW5kKHRoaXMuY2FjaGUsIHsKICAgICAgICAgIHZlcnNpb25JZDogbmV3VmFsdWUKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHBhZ2UpIHsKICAgICAgICAgIHRoaXMudGFyZ2V0ID0gcGFnZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy50YXJnZXQgPSBhd2FpdCB0aGlzLmxvYWRWZXJzaW9uKG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgfSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncGFnZS9TRVRfSUQnLCB0aGlzLmlkKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncGFnZS9TRVRfTE9DQUxFJywgdGhpcy5sb2NhbGUpOwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdwYWdlL1NFVF9QQVRIJywgdGhpcy5wYXRoKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgncGFnZS9TRVRfTU9ERScsICdoaXN0b3J5Jyk7CiAgICB0aGlzLmNhY2hlLnB1c2goewogICAgICBhY3Rpb246ICdsaXZlJywKICAgICAgYXV0aG9ySWQ6IHRoaXMuYXV0aG9ySWQsCiAgICAgIGF1dGhvck5hbWU6IHRoaXMuYXV0aG9yTmFtZSwKICAgICAgY29udGVudDogdGhpcy5saXZlQ29udGVudCwKICAgICAgY29udGVudFR5cGU6ICcnLAogICAgICBjcmVhdGVkQXQ6IHRoaXMuY3JlYXRlZEF0LAogICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbiwKICAgICAgZWRpdG9yOiAnJywKICAgICAgaXNQcml2YXRlOiBmYWxzZSwKICAgICAgaXNQdWJsaXNoZWQ6IHRoaXMuaXNQdWJsaXNoZWQsCiAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsCiAgICAgIHBhZ2VJZDogdGhpcy5wYWdlSWQsCiAgICAgIHBhdGg6IHRoaXMucGF0aCwKICAgICAgcHVibGlzaEVuZERhdGU6ICcnLAogICAgICBwdWJsaXNoU3RhcnREYXRlOiAnJywKICAgICAgdGFnczogdGhpcy50YWdzLAogICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgdmVyc2lvbklkOiAwLAogICAgICB2ZXJzaW9uRGF0ZTogdGhpcy51cGRhdGVkQXQKICAgIH0pOwogICAgdGhpcy50YXJnZXQgPSB0aGlzLmNhY2hlWzBdOwoKICAgIGlmICh0aGlzLmVmZmVjdGl2ZVBlcm1pc3Npb25zKSB7CiAgICAgIHRoaXMuJHN0b3JlLnNldCgncGFnZS9lZmZlY3RpdmVQZXJtaXNzaW9ucycsIEpTT04ucGFyc2UoQnVmZmVyLmZyb20odGhpcy5lZmZlY3RpdmVQZXJtaXNzaW9ucywgJ2Jhc2U2NCcpLnRvU3RyaW5nKCkpKTsKICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2FkVmVyc2lvbih2ZXJzaW9uSWQpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KGBsb2FkaW5nU3RhcnRgLCAnaGlzdG9yeS12ZXJzaW9uLScgKyB2ZXJzaW9uSWQpOwogICAgICBjb25zdCByZXNwID0gYXdhaXQgdGhpcy4kYXBvbGxvLnF1ZXJ5KHsKICAgICAgICBxdWVyeTogewogICAgICAgICAgImtpbmQiOiAiRG9jdW1lbnQiLAogICAgICAgICAgImRlZmluaXRpb25zIjogW3sKICAgICAgICAgICAgImtpbmQiOiAiT3BlcmF0aW9uRGVmaW5pdGlvbiIsCiAgICAgICAgICAgICJvcGVyYXRpb24iOiAicXVlcnkiLAogICAgICAgICAgICAidmFyaWFibGVEZWZpbml0aW9ucyI6IFt7CiAgICAgICAgICAgICAgImtpbmQiOiAiVmFyaWFibGVEZWZpbml0aW9uIiwKICAgICAgICAgICAgICAidmFyaWFibGUiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwYWdlSWQiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICJraW5kIjogIk5vbk51bGxUeXBlIiwKICAgICAgICAgICAgICAgICJ0eXBlIjogewogICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lZFR5cGUiLAogICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiSW50IgogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZURlZmluaXRpb24iLAogICAgICAgICAgICAgICJ2YXJpYWJsZSI6IHsKICAgICAgICAgICAgICAgICJraW5kIjogIlZhcmlhYmxlIiwKICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb25JZCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJ0eXBlIjogewogICAgICAgICAgICAgICAgImtpbmQiOiAiTm9uTnVsbFR5cGUiLAogICAgICAgICAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWVkVHlwZSIsCiAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJJbnQiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10sCiAgICAgICAgICAgICJzZWxlY3Rpb25TZXQiOiB7CiAgICAgICAgICAgICAgImtpbmQiOiAiU2VsZWN0aW9uU2V0IiwKICAgICAgICAgICAgICAic2VsZWN0aW9ucyI6IFt7CiAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwYWdlcyIKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdLAogICAgICAgICAgICAgICAgInNlbGVjdGlvblNldCI6IHsKICAgICAgICAgICAgICAgICAgImtpbmQiOiAiU2VsZWN0aW9uU2V0IiwKICAgICAgICAgICAgICAgICAgInNlbGVjdGlvbnMiOiBbewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb24iCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW3sKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkFyZ3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInBhZ2VJZCIKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIlZhcmlhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInBhZ2VJZCIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkFyZ3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb25JZCIKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIlZhcmlhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb25JZCIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10sCiAgICAgICAgICAgICAgICAgICAgInNlbGVjdGlvblNldCI6IHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlbGVjdGlvblNldCIsCiAgICAgICAgICAgICAgICAgICAgICAic2VsZWN0aW9ucyI6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImFjdGlvbiIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImF1dGhvcklkIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiYXV0aG9yTmFtZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImNvbnRlbnQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJjb250ZW50VHlwZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImNyZWF0ZWRBdCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb25EYXRlIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiZGVzY3JpcHRpb24iCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJlZGl0b3IiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJpc1ByaXZhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJpc1B1Ymxpc2hlZCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImxvY2FsZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInBhZ2VJZCIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInBhdGgiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwdWJsaXNoRW5kRGF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInB1Ymxpc2hTdGFydERhdGUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ0YWdzIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAidGl0bGUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ2ZXJzaW9uSWQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfQogICAgICAgICAgfV0sCiAgICAgICAgICAibG9jIjogewogICAgICAgICAgICAic3RhcnQiOiAwLAogICAgICAgICAgICAiZW5kIjogNjc0LAogICAgICAgICAgICAic291cmNlIjogewogICAgICAgICAgICAgICJib2R5IjogIlxuICAgICAgICAgIHF1ZXJ5ICgkcGFnZUlkOiBJbnQhLCAkdmVyc2lvbklkOiBJbnQhKSB7XG4gICAgICAgICAgICBwYWdlcyB7XG4gICAgICAgICAgICAgIHZlcnNpb24gKHBhZ2VJZDogJHBhZ2VJZCwgdmVyc2lvbklkOiAkdmVyc2lvbklkKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uXG4gICAgICAgICAgICAgICAgYXV0aG9ySWRcbiAgICAgICAgICAgICAgICBhdXRob3JOYW1lXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICAgICAgdmVyc2lvbkRhdGVcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIGVkaXRvclxuICAgICAgICAgICAgICAgIGlzUHJpdmF0ZVxuICAgICAgICAgICAgICAgIGlzUHVibGlzaGVkXG4gICAgICAgICAgICAgICAgbG9jYWxlXG4gICAgICAgICAgICAgICAgcGFnZUlkXG4gICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgICAgIHB1Ymxpc2hFbmREYXRlXG4gICAgICAgICAgICAgICAgcHVibGlzaFN0YXJ0RGF0ZVxuICAgICAgICAgICAgICAgIHRhZ3NcbiAgICAgICAgICAgICAgICB0aXRsZVxuICAgICAgICAgICAgICAgIHZlcnNpb25JZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAiLAogICAgICAgICAgICAgICJuYW1lIjogIkdyYXBoUUwgcmVxdWVzdCIsCiAgICAgICAgICAgICAgImxvY2F0aW9uT2Zmc2V0IjogewogICAgICAgICAgICAgICAgImxpbmUiOiAxLAogICAgICAgICAgICAgICAgImNvbHVtbiI6IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgdmVyc2lvbklkLAogICAgICAgICAgcGFnZUlkOiB0aGlzLnBhZ2VJZAogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChgbG9hZGluZ1N0b3BgLCAnaGlzdG9yeS12ZXJzaW9uLScgKyB2ZXJzaW9uSWQpOwoKICAgICAgY29uc3QgcGFnZSA9IF9nZXQocmVzcCwgJ2RhdGEucGFnZXMudmVyc2lvbicsIG51bGwpOwoKICAgICAgaWYgKHBhZ2UpIHsKICAgICAgICB0aGlzLmNhY2hlLnB1c2gocGFnZSk7CiAgICAgICAgcmV0dXJuIHBhZ2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNvbnRlbnQ6ICcnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKCiAgICB2aWV3U291cmNlKHZlcnNpb25JZCkgewogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGAvcy8ke3RoaXMubG9jYWxlfS8ke3RoaXMucGF0aH0/dj0ke3ZlcnNpb25JZH1gKTsKICAgIH0sCgogICAgZG93bmxvYWQodmVyc2lvbklkKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9kLyR7dGhpcy5sb2NhbGV9LyR7dGhpcy5wYXRofT92PSR7dmVyc2lvbklkfWApOwogICAgfSwKCiAgICByZXN0b3JlKHZlcnNpb25JZCwgdmVyc2lvbkRhdGUpIHsKICAgICAgdGhpcy5yZXN0b3JlVGFyZ2V0ID0gewogICAgICAgIHZlcnNpb25JZCwKICAgICAgICB2ZXJzaW9uRGF0ZQogICAgICB9OwogICAgICB0aGlzLmlzUmVzdG9yZUNvbmZpcm1EaWFsb2dTaG93biA9IHRydWU7CiAgICB9LAoKICAgIGFzeW5jIHJlc3RvcmVDb25maXJtKCkgewogICAgICB0aGlzLnJlc3RvcmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KGBsb2FkaW5nU3RhcnRgLCAnaGlzdG9yeS1yZXN0b3JlJyk7CgogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCB0aGlzLiRhcG9sbG8ubXV0YXRlKHsKICAgICAgICAgIG11dGF0aW9uOiB7CiAgICAgICAgICAgICJraW5kIjogIkRvY3VtZW50IiwKICAgICAgICAgICAgImRlZmluaXRpb25zIjogW3sKICAgICAgICAgICAgICAia2luZCI6ICJPcGVyYXRpb25EZWZpbml0aW9uIiwKICAgICAgICAgICAgICAib3BlcmF0aW9uIjogIm11dGF0aW9uIiwKICAgICAgICAgICAgICAidmFyaWFibGVEZWZpbml0aW9ucyI6IFt7CiAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZURlZmluaXRpb24iLAogICAgICAgICAgICAgICAgInZhcmlhYmxlIjogewogICAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwYWdlSWQiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTm9uTnVsbFR5cGUiLAogICAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lZFR5cGUiLAogICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiSW50IgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZURlZmluaXRpb24iLAogICAgICAgICAgICAgICAgInZhcmlhYmxlIjogewogICAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ2ZXJzaW9uSWQiCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTm9uTnVsbFR5cGUiLAogICAgICAgICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lZFR5cGUiLAogICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiSW50IgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdLAogICAgICAgICAgICAgICJzZWxlY3Rpb25TZXQiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJTZWxlY3Rpb25TZXQiLAogICAgICAgICAgICAgICAgInNlbGVjdGlvbnMiOiBbewogICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwYWdlcyIKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdLAogICAgICAgICAgICAgICAgICAic2VsZWN0aW9uU2V0IjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIlNlbGVjdGlvblNldCIsCiAgICAgICAgICAgICAgICAgICAgInNlbGVjdGlvbnMiOiBbewogICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAicmVzdG9yZSIKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW3sKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiQXJndW1lbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAicGFnZUlkIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiVmFyaWFibGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAicGFnZUlkIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJBcmd1bWVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ2ZXJzaW9uSWQiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ2ZXJzaW9uSWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAic2VsZWN0aW9uU2V0IjogewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJTZWxlY3Rpb25TZXQiLAogICAgICAgICAgICAgICAgICAgICAgICAic2VsZWN0aW9ucyI6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAicmVzcG9uc2VSZXN1bHQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAic2VsZWN0aW9uU2V0IjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiU2VsZWN0aW9uU2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWxlY3Rpb25zIjogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAic3VjY2VlZGVkIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAiZXJyb3JDb2RlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAic2x1ZyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIm1lc3NhZ2UiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH1dLAogICAgICAgICAgICAibG9jIjogewogICAgICAgICAgICAgICJzdGFydCI6IDAsCiAgICAgICAgICAgICAgImVuZCI6IDM3MywKICAgICAgICAgICAgICAic291cmNlIjogewogICAgICAgICAgICAgICAgImJvZHkiOiAiXG4gICAgICAgICAgICBtdXRhdGlvbiAoJHBhZ2VJZDogSW50ISwgJHZlcnNpb25JZDogSW50ISkge1xuICAgICAgICAgICAgICBwYWdlcyB7XG4gICAgICAgICAgICAgICAgcmVzdG9yZSAocGFnZUlkOiAkcGFnZUlkLCB2ZXJzaW9uSWQ6ICR2ZXJzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUmVzdWx0IHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ29kZVxuICAgICAgICAgICAgICAgICAgICBzbHVnXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAiLAogICAgICAgICAgICAgICAgIm5hbWUiOiAiR3JhcGhRTCByZXF1ZXN0IiwKICAgICAgICAgICAgICAgICJsb2NhdGlvbk9mZnNldCI6IHsKICAgICAgICAgICAgICAgICAgImxpbmUiOiAxLAogICAgICAgICAgICAgICAgICAiY29sdW1uIjogMQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHZhcmlhYmxlczogewogICAgICAgICAgICB2ZXJzaW9uSWQ6IHRoaXMucmVzdG9yZVRhcmdldC52ZXJzaW9uSWQsCiAgICAgICAgICAgIHBhZ2VJZDogdGhpcy5wYWdlSWQKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKF9nZXQocmVzcCwgJ2RhdGEucGFnZXMucmVzdG9yZS5yZXNwb25zZVJlc3VsdC5zdWNjZWVkZWQnLCBmYWxzZSkgPT09IHRydWUpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd05vdGlmaWNhdGlvbicsIHsKICAgICAgICAgICAgc3R5bGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgnaGlzdG9yeTpyZXN0b3JlLnN1Y2Nlc3MnKSwKICAgICAgICAgICAgaWNvbjogJ2NoZWNrJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmlzUmVzdG9yZUNvbmZpcm1EaWFsb2dTaG93biA9IGZhbHNlOwogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC8ke3RoaXMubG9jYWxlfS8ke3RoaXMucGF0aH1gKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoX2dldChyZXNwLCAnZGF0YS5wYWdlcy5yZXN0b3JlLnJlc3BvbnNlUmVzdWx0Lm1lc3NhZ2UnLCAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2hvd05vdGlmaWNhdGlvbicsIHsKICAgICAgICAgIHN0eWxlOiAncmVkJywKICAgICAgICAgIG1lc3NhZ2U6IGVyci5tZXNzYWdlLAogICAgICAgICAgaWNvbjogJ2FsZXJ0JwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoYGxvYWRpbmdTdG9wYCwgJ2hpc3RvcnktcmVzdG9yZScpOwogICAgICB0aGlzLnJlc3RvcmVMb2FkaW5nID0gZmFsc2U7CiAgICB9LAoKICAgIGJyYW5jaE9mZih2ZXJzaW9uSWQpIHsKICAgICAgY29uc3QgcGF0aFBhcnRzID0gdGhpcy5wYXRoLnNwbGl0KCcvJyk7CiAgICAgIHRoaXMuYnJhbmNoT2ZmT3B0cyA9IHsKICAgICAgICB2ZXJzaW9uSWQ6IHZlcnNpb25JZCwKICAgICAgICBsb2NhbGU6IHRoaXMubG9jYWxlLAogICAgICAgIHBhdGg6IHBhdGhQYXJ0cy5sZW5ndGggPiAxID8gX2luaXRpYWwocGF0aFBhcnRzKS5qb2luKCcvJykgKyBgL25ldy1wYWdlYCA6IGBuZXctcGFnZWAsCiAgICAgICAgbW9kYWw6IHRydWUKICAgICAgfTsKICAgIH0sCgogICAgYnJhbmNoT2ZmSGFuZGxlKHsKICAgICAgbG9jYWxlLAogICAgICBwYXRoCiAgICB9KSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5hc3NpZ24oYC9lLyR7bG9jYWxlfS8ke3BhdGh9P2Zyb209JHt0aGlzLnBhZ2VJZH0sJHt0aGlzLmJyYW5jaE9mZk9wdHMudmVyc2lvbklkfWApOwogICAgfSwKCiAgICB0b2dnbGVWaWV3TW9kZSgpIHsKICAgICAgdGhpcy52aWV3TW9kZSA9IHRoaXMudmlld01vZGUgPT09ICdsaW5lLWJ5LWxpbmUnID8gJ3NpZGUtYnktc2lkZScgOiAnbGluZS1ieS1saW5lJzsKICAgIH0sCgogICAgZ29MaXZlKCkgewogICAgICB3aW5kb3cubG9jYXRpb24uYXNzaWduKGAvJHt0aGlzLnBhdGh9YCk7CiAgICB9LAoKICAgIHNldERpZmZTb3VyY2UodmVyc2lvbklkKSB7CiAgICAgIHRoaXMuZGlmZlNvdXJjZSA9IHZlcnNpb25JZDsKICAgIH0sCgogICAgc2V0RGlmZlRhcmdldCh2ZXJzaW9uSWQpIHsKICAgICAgdGhpcy5kaWZmVGFyZ2V0ID0gdmVyc2lvbklkOwogICAgfSwKCiAgICBsb2FkTW9yZSgpIHsKICAgICAgdGhpcy5vZmZzZXRQYWdlKys7CiAgICAgIHRoaXMuJGFwb2xsby5xdWVyaWVzLnRyYWlsLmZldGNoTW9yZSh7CiAgICAgICAgdmFyaWFibGVzOiB7CiAgICAgICAgICBpZDogdGhpcy5wYWdlSWQsCiAgICAgICAgICBvZmZzZXRQYWdlOiB0aGlzLm9mZnNldFBhZ2UsCiAgICAgICAgICBvZmZzZXRTaXplOiB0aGlzLiR2dWV0aWZ5LmJyZWFrcG9pbnQubWRBbmRVcCA/IDI1IDogNQogICAgICAgIH0sCiAgICAgICAgdXBkYXRlUXVlcnk6IChwcmV2aW91c1Jlc3VsdCwgewogICAgICAgICAgZmV0Y2hNb3JlUmVzdWx0CiAgICAgICAgfSkgPT4gewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGFnZXM6IHsKICAgICAgICAgICAgICBoaXN0b3J5OiB7CiAgICAgICAgICAgICAgICB0b3RhbDogcHJldmlvdXNSZXN1bHQucGFnZXMuaGlzdG9yeS50b3RhbCwKICAgICAgICAgICAgICAgIHRyYWlsOiBbLi4ucHJldmlvdXNSZXN1bHQucGFnZXMuaGlzdG9yeS50cmFpbCwgLi4uZmV0Y2hNb3JlUmVzdWx0LnBhZ2VzLmhpc3RvcnkudHJhaWxdLAogICAgICAgICAgICAgICAgX190eXBlbmFtZTogcHJldmlvdXNSZXN1bHQucGFnZXMuaGlzdG9yeS5fX3R5cGVuYW1lCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBfX3R5cGVuYW1lOiBwcmV2aW91c1Jlc3VsdC5wYWdlcy5fX3R5cGVuYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgdHJhaWxDb2xvcihhY3Rpb25UeXBlKSB7CiAgICAgIHN3aXRjaCAoYWN0aW9uVHlwZSkgewogICAgICAgIGNhc2UgJ2VkaXQnOgogICAgICAgICAgcmV0dXJuICdwcmltYXJ5JzsKCiAgICAgICAgY2FzZSAnbW92ZSc6CiAgICAgICAgICByZXR1cm4gJ3B1cnBsZSc7CgogICAgICAgIGNhc2UgJ2luaXRpYWwnOgogICAgICAgICAgcmV0dXJuICd0ZWFsJzsKCiAgICAgICAgY2FzZSAnbGl2ZSc6CiAgICAgICAgICByZXR1cm4gJ29yYW5nZSc7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ2dyZXknOwogICAgICB9CiAgICB9LAoKICAgIHRyYWlsSWNvbihhY3Rpb25UeXBlKSB7CiAgICAgIHN3aXRjaCAoYWN0aW9uVHlwZSkgewogICAgICAgIGNhc2UgJ2VkaXQnOgogICAgICAgICAgcmV0dXJuICcnOwogICAgICAgIC8vICdtZGktcGVuY2lsJwoKICAgICAgICBjYXNlICdtb3ZlJzoKICAgICAgICAgIHJldHVybiAnbWRpLWZvcndhcmQnOwoKICAgICAgICBjYXNlICdpbml0aWFsJzoKICAgICAgICAgIHJldHVybiAnbWRpLXBsdXMnOwoKICAgICAgICBjYXNlICdsaXZlJzoKICAgICAgICAgIHJldHVybiAnbWRpLWF0b20tdmFyaWFudCc7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ21kaS1hbGVydCc7CiAgICAgIH0KICAgIH0sCgogICAgdHJhaWxCZ0NvbG9yKGFjdGlvblR5cGUpIHsKICAgICAgc3dpdGNoIChhY3Rpb25UeXBlKSB7CiAgICAgICAgY2FzZSAnbW92ZSc6CiAgICAgICAgICByZXR1cm4gdGhpcy4kdnVldGlmeS50aGVtZS5kYXJrID8gJ3B1cnBsZScgOiAncHVycGxlIGxpZ2h0ZW4tNSc7CgogICAgICAgIGNhc2UgJ2luaXRpYWwnOgogICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA/ICd0ZWFsIGRhcmtlbi0zJyA6ICd0ZWFsIGxpZ2h0ZW4tNSc7CgogICAgICAgIGNhc2UgJ2xpdmUnOgogICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA/ICdvcmFuZ2UgZGFya2VuLTMnIDogJ29yYW5nZSBsaWdodGVuLTUnOwoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyayA/ICdncmV5IGRhcmtlbi0zJyA6ICdncmV5IGxpZ2h0ZW4tNCc7CiAgICAgIH0KICAgIH0KCiAgfSwKICBhcG9sbG86IHsKICAgIHRyYWlsOiB7CiAgICAgIHF1ZXJ5OiB7CiAgICAgICAgImtpbmQiOiAiRG9jdW1lbnQiLAogICAgICAgICJkZWZpbml0aW9ucyI6IFt7CiAgICAgICAgICAia2luZCI6ICJPcGVyYXRpb25EZWZpbml0aW9uIiwKICAgICAgICAgICJvcGVyYXRpb24iOiAicXVlcnkiLAogICAgICAgICAgInZhcmlhYmxlRGVmaW5pdGlvbnMiOiBbewogICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZURlZmluaXRpb24iLAogICAgICAgICAgICAidmFyaWFibGUiOiB7CiAgICAgICAgICAgICAgImtpbmQiOiAiVmFyaWFibGUiLAogICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAiaWQiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAidHlwZSI6IHsKICAgICAgICAgICAgICAia2luZCI6ICJOb25OdWxsVHlwZSIsCiAgICAgICAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lZFR5cGUiLAogICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAidmFsdWUiOiAiSW50IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgfSwgewogICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZURlZmluaXRpb24iLAogICAgICAgICAgICAidmFyaWFibGUiOiB7CiAgICAgICAgICAgICAgImtpbmQiOiAiVmFyaWFibGUiLAogICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAidmFsdWUiOiAib2Zmc2V0UGFnZSIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJ0eXBlIjogewogICAgICAgICAgICAgICJraW5kIjogIk5hbWVkVHlwZSIsCiAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJJbnQiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgICJraW5kIjogIlZhcmlhYmxlRGVmaW5pdGlvbiIsCiAgICAgICAgICAgICJ2YXJpYWJsZSI6IHsKICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJvZmZzZXRTaXplIgogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgInR5cGUiOiB7CiAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZWRUeXBlIiwKICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgInZhbHVlIjogIkludCIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgIH1dLAogICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXSwKICAgICAgICAgICJzZWxlY3Rpb25TZXQiOiB7CiAgICAgICAgICAgICJraW5kIjogIlNlbGVjdGlvblNldCIsCiAgICAgICAgICAgICJzZWxlY3Rpb25zIjogW3sKICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJwYWdlcyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdLAogICAgICAgICAgICAgICJzZWxlY3Rpb25TZXQiOiB7CiAgICAgICAgICAgICAgICAia2luZCI6ICJTZWxlY3Rpb25TZXQiLAogICAgICAgICAgICAgICAgInNlbGVjdGlvbnMiOiBbewogICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJoaXN0b3J5IgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW3sKICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJBcmd1bWVudCIsCiAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJpZCIKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIlZhcmlhYmxlIiwKICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImlkIgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIkFyZ3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIm9mZnNldFBhZ2UiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJvZmZzZXRQYWdlIgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICJraW5kIjogIkFyZ3VtZW50IiwKICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogIm9mZnNldFNpemUiCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJWYXJpYWJsZSIsCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJvZmZzZXRTaXplIgogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10sCiAgICAgICAgICAgICAgICAgICJzZWxlY3Rpb25TZXQiOiB7CiAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiU2VsZWN0aW9uU2V0IiwKICAgICAgICAgICAgICAgICAgICAic2VsZWN0aW9ucyI6IFt7CiAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ0cmFpbCIKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgInNlbGVjdGlvblNldCI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiU2VsZWN0aW9uU2V0IiwKICAgICAgICAgICAgICAgICAgICAgICAgInNlbGVjdGlvbnMiOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInZlcnNpb25JZCIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJhdXRob3JJZCIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJhdXRob3JOYW1lIgogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgICAgICJkaXJlY3RpdmVzIjogW10KICAgICAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIkZpZWxkIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAibmFtZSI6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogImFjdGlvblR5cGUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAidmFsdWVCZWZvcmUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiYXJndW1lbnRzIjogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICJuYW1lIjogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiTmFtZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAidmFsdWVBZnRlciIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJGaWVsZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAia2luZCI6ICJOYW1lIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6ICJ2ZXJzaW9uRGF0ZSIKICAgICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICAgICJhcmd1bWVudHMiOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aXZlcyI6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgICAgImtpbmQiOiAiRmllbGQiLAogICAgICAgICAgICAgICAgICAgICAgIm5hbWUiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJraW5kIjogIk5hbWUiLAogICAgICAgICAgICAgICAgICAgICAgICAidmFsdWUiOiAidG90YWwiCiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgImFyZ3VtZW50cyI6IFtdLAogICAgICAgICAgICAgICAgICAgICAgImRpcmVjdGl2ZXMiOiBbXQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9XQogICAgICAgICAgfQogICAgICAgIH1dLAogICAgICAgICJsb2MiOiB7CiAgICAgICAgICAic3RhcnQiOiAwLAogICAgICAgICAgImVuZCI6IDQ0OCwKICAgICAgICAgICJzb3VyY2UiOiB7CiAgICAgICAgICAgICJib2R5IjogIlxuICAgICAgICBxdWVyeSgkaWQ6IEludCEsICRvZmZzZXRQYWdlOiBJbnQsICRvZmZzZXRTaXplOiBJbnQpIHtcbiAgICAgICAgICBwYWdlcyB7XG4gICAgICAgICAgICBoaXN0b3J5KGlkOiRpZCwgb2Zmc2V0UGFnZTokb2Zmc2V0UGFnZSwgb2Zmc2V0U2l6ZTokb2Zmc2V0U2l6ZSkge1xuICAgICAgICAgICAgICB0cmFpbCB7XG4gICAgICAgICAgICAgICAgdmVyc2lvbklkXG4gICAgICAgICAgICAgICAgYXV0aG9ySWRcbiAgICAgICAgICAgICAgICBhdXRob3JOYW1lXG4gICAgICAgICAgICAgICAgYWN0aW9uVHlwZVxuICAgICAgICAgICAgICAgIHZhbHVlQmVmb3JlXG4gICAgICAgICAgICAgICAgdmFsdWVBZnRlclxuICAgICAgICAgICAgICAgIHZlcnNpb25EYXRlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG90YWxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICIsCiAgICAgICAgICAgICJuYW1lIjogIkdyYXBoUUwgcmVxdWVzdCIsCiAgICAgICAgICAgICJsb2NhdGlvbk9mZnNldCI6IHsKICAgICAgICAgICAgICAibGluZSI6IDEsCiAgICAgICAgICAgICAgImNvbHVtbiI6IDEKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKCiAgICAgIHZhcmlhYmxlcygpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaWQ6IHRoaXMucGFnZUlkLAogICAgICAgICAgb2Zmc2V0UGFnZTogMCwKICAgICAgICAgIG9mZnNldFNpemU6IHRoaXMuJHZ1ZXRpZnkuYnJlYWtwb2ludC5tZEFuZFVwID8gMjUgOiA1CiAgICAgICAgfTsKICAgICAgfSwKCiAgICAgIG1hbnVhbDogdHJ1ZSwKCiAgICAgIHJlc3VsdCh7CiAgICAgICAgZGF0YSwKICAgICAgICBsb2FkaW5nLAogICAgICAgIG5ldHdvcmtTdGF0dXMKICAgICAgfSkgewogICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnBhZ2VzLmhpc3RvcnkudG90YWw7CiAgICAgICAgdGhpcy50cmFpbCA9IGRhdGEucGFnZXMuaGlzdG9yeS50cmFpbDsKICAgICAgfSwKCiAgICAgIHdhdGNoTG9hZGluZyhpc0xvYWRpbmcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoYGxvYWRpbmcke2lzTG9hZGluZyA/ICdTdGFydCcgOiAnU3RvcCd9YCwgJ2hpc3RvcnktdHJhaWwtcmVmcmVzaCcpOwogICAgICB9CgogICAgfQogIH0KfTs="},null]}